---
// Projects Section Component
interface Project {
  name: string;
  desc: string;
  img: string;
  url: string;
  tech?: string[];
}

interface Props {
  projects: Project[];
}

const { projects } = Astro.props;
---

<section id="projects" class="max-w-7xl mx-auto mt-24 md:mt-32 px-4 md:px-6 scroll-mt-24 relative overflow-hidden">
  
  <!-- Tech Grid Background -->
  <div class="absolute inset-0 pointer-events-none opacity-[0.03]"
       style="background-image: linear-gradient(to right, #ffffff 1px, transparent 1px), linear-gradient(to bottom, #ffffff 1px, transparent 1px); background-size: 30px 30px;">
  </div>

  <!-- Section Title -->
  <div class="text-center mb-16 relative z-10">
    <div class="inline-block relative">
       <h2 class="text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 tracking-tighter drop-shadow-lg">
          FEATURED PROJECTS
       </h2>
       <!-- Decoration Lines -->
       <div class="absolute -bottom-2 left-0 w-full h-[2px] bg-gradient-to-r from-transparent via-cyan-500 to-transparent"></div>
       <div class="absolute -bottom-2 left-1/2 w-2 h-2 bg-cyan-400 rounded-full transform -translate-x-1/2 shadow-[0_0_10px_rgba(34,211,238,0.8)]"></div>
    </div>
    <p class="text-gray-400 mt-6 text-lg max-w-2xl mx-auto">
      A showcase of my recent technical endeavors, from full-stack applications to interactive game systems.
    </p>
  </div>

  <!-- Projects Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10">
    {projects.map((p, index) => (
      <div class="group relative bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden transition-all duration-500 hover:border-cyan-500/50 hover:shadow-[0_0_30px_rgba(34,211,238,0.1)] hover:-translate-y-2">
        
        <!-- Image Container -->
        <div class="relative h-64 overflow-hidden">
          <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent z-10 opacity-60"></div>
          <img
            src={p.img}
            alt={p.name}
            loading="lazy"
            class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700 ease-out"
          />
          
          <!-- View Repository Overlay -->
          <a
            href={p.url}
            target="_blank"
            rel="noopener"
            class="absolute inset-0 flex justify-center items-center bg-black/60 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-500 z-30"
          >
            <span
              class="inline-flex items-center gap-2 bg-cyan-500/20 text-cyan-300 px-6 py-3 rounded-full border border-cyan-400 hover:bg-cyan-500/30 transition transform scale-90 group-hover:scale-100 duration-300 font-semibold tracking-wide"
            >
              <i class="fa-brands fa-github text-lg"></i>
              View Repository
            </span>
          </a>
        </div>

        <!-- Content -->
        <div class="p-8 relative z-20">
           <h3 class="text-2xl font-bold text-white mb-4 group-hover:text-cyan-400 transition-colors duration-300">
             {p.name}
           </h3>

           <p class="text-gray-400 leading-relaxed text-sm mb-6 line-clamp-3">
              {p.desc}
           </p>

           <!-- Tech Stack (Icons Restored) -->
           {p.tech && p.tech.length > 0 && (
             <div class="flex flex-wrap gap-3">
               {p.tech.map((tech) => (
                 <div class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center border border-white/10 hover:border-cyan-400/50 hover:bg-cyan-900/20 transition-all duration-300 group/icon" title={tech}>
                   <i class={`devicon-${tech} text-xl text-gray-400 group-hover/icon:text-cyan-300 transition-colors`}></i>
                 </div>
               ))}
             </div>
           )}
        </div>
      </div>
    ))}
  </div>

  <!-- Background Decorative Blurs -->
  <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-purple-600/5 rounded-full blur-[100px] pointer-events-none mix-blend-screen"></div>

</section>
